REGLAS DE NEGOCIO1.	Disponibilidad de productos	•	Un producto solo se puede vender si está activo y tiene stock disponible.2.	Precio de venta	•	El precio final de un producto es el definido en el catálogo (o el de la variante, si la tiene).	•	Los sets de regalo tienen un precio fijo, independiente del valor individual de cada producto.3.	Carrito de compras	•	Un cliente puede agregar, quitar o modificar cantidades, pero no superar el stock disponible.4.	Cupón de descuento	•	Solo se puede aplicar un cupón por pedido.	•	El cupón debe estar vigente, activo y cumplir con el monto mínimo de compra.5.	Envío	•	El envío es gratis si el pedido supera los $50.000.	•	Caso contrario, se cobra un costo fijo de $3.500 (configurable).6.	Pago	•	Un pedido pasa a estado Pagado únicamente cuando la pasarela (ej. Mercado Pago) confirma el pago aprobado.	•	Si el pago es rechazado, el pedido permanece en estado Pendiente hasta que el cliente reintente.7.	Stock y pedidos	•	El stock se descuenta al confirmarse el pago.	•	Si un pedido pagado se cancela antes del envío, se debe restituir el stock.8.	Cancelaciones	•	Los pedidos se pueden cancelar solo mientras estén en estado Pendiente o Pagado, pero no si ya fueron enviados.9.	Devoluciones	•	Se aceptan devoluciones dentro de los 10 días posteriores a la entrega, siempre que el producto esté sin uso y en su empaque original.10.	Reseñas de productos	•	Los clientes solo pueden dejar reseñas en productos que hayan comprado y recibido.LOGICA DE NEGOCIO1) Catálogo	•	Publicar/ocultar productos por activo.	•	Un producto ? 1 categoría; puede tener variantes (SKU, opciones).	•	Precio efectivo: formula2) Stock	•	Antes de agregar o cambiar cantidades: formula 	•	Descuento de stock cuando el pago queda aprobado.	•	Cancelación antes de envío ? restituir stock.	•	Bundles/sets: validar/descontar stock de cada componente.3) Carrito	•	Operaciones: agregar, quitar, actualizar qty, limpiar.	•	Recalcular siempre: subtotal, descuento, envío, impuestos, total.	•	Si un producto pasa a inactivo o sin stock ? bloquear checkout hasta resolver.4) Descuentos/Cupones	•	1 cupón por pedido (por defecto).	•	Válido si: formula 	•	Tipos: % sobre subtotal o monto fijo. Nunca total < 0.5) Checkout ? Pedido	1.	Validar stock y precios actuales.	2.	Tomar datos cliente + direcciones.	3.	Elegir envío y pago.	4.	Crear ORDER(pending) con ORDER_ITEM (precio unitario congelado).6) Pago (Mercado Pago)	•	Crear preferencia con ORDER.number y grand_total.	•	Webhook actualiza PAYMENT.status.	•	Si approved ? ORDER: paid y descontar stock.	•	Si rejected ? permitir reintento mientras no expire.7) Envío	•	Costo: fijo o por zona/peso; gratis si subtotal ≥ umbral.	•	Estados: pending ? in_transit ? delivered.	•	Guardar carrier, tracking, timestamps.8) Postventa	•	Devoluciones dentro de X días; si se acepta y el producto vuelve bien ? sumar stock y reembolsar según política.	•	Reseñas solo para pedidos delivered.9) Cálculos clave	•	subtotal = ? (unit_price ? qty)	•	discount_total = regla(cupón, subtotal)	•	shipping_total = regla(envío, subtotal)	•	tax_total = regla(IVA, categoría) (si aplica)	•	grand_total = subtotal ? discount_total + shipping_total + tax_total10) Estados e invariantes	•	Pedido: pending ? paid ? shipped ? delivered (o canceled).	•	Invariantes:	•	No vender sin stock.	•	No pasar a paid sin confirmación de la pasarela.	•	No editar ítems después de paid (usar devolución/cambio).	•	Totales coherentes y auditados.FLUJO DEL CARRITONavegar ? Agregar al carrito (valida stock) ? Aplicar cupón ? Calcular totales ? Crear ORDER(pending) ? Pagar (MP) ? aprobado ? paid + descuenta stock ? Generar envío y tracking ? delivered ? habilitar reseña.